# Readme
## Задание
Сделать механику избиения головы. На сцене должна присутствовать голова с возможностью ее бить. Нанесение урона должно быть заметно.
**Главные требования:** иммерсивность, смачность, креатив.
**Дополнительные требования:**
- Реализация должна быть в 3D.
- Желательно в VR (а если шлема нет нет то тогда можно не в VR).
- Опубликовать проект в общий доступ на **GitHub** для проверки.
- Прикрепить запись геймплея с комментарием обзора (голосом/текстом).
- Версия **Unity 2022.3.xx (LTS)** [unity archive link](https://unity.com/releases/editor/whats-new/2022.3.52#installs).
- Использовать **только copyright free ассеты.**
## Video https://youtu.be/oSl63DDMJOw
![Gameplay GIF](https://github.com/Avgustin4ik/vr-punching-bug/blob/main/screenshots/vr-punch-2.gif?raw=true)
## Стэк
Reflex Di, UniRx., UniTask, PrimeTween, InputSystem, Feel

## Gameplay
Управление - ЛКМ (тап по экрану) спавн удара.
В игре можно спавнить удары по цели - голове. Спавн ударов реализован как спавн отдельных префабов с Rigidbody, боксерских перчаток, т.к. это более похоже на то что происходит в XR приложениях и будет проще заменить логику и собрать билд. Из этих же сображений была включена InputSystem, так как она используется в XR приложениях.

При спавне удара объект появляется в установленной зоне и ему передается сила, с которой он полетит в цель. Попадание фиксируется и статичным эвентом оповещает об этом мир игры.
### Успешный удар
При успешном ударе создается событие, которое фиксирует направление, точку соприкосновения и силу удара. В зависимости от точки и направления VFXService спавнит чатицы - vfx удара и капли пота. Кровь решил не добавлять, чтобы не было уж слишком жестоко).
При успешном ударе есть шанс появления синяко и ссадин. Их появление определяется не обычным рандомом а с помощью анимационной кривой для более детального контроля.
![Настройка рандома](https://github.com/Avgustin4ik/vr-punching-bug/blob/main/screenshots/Screenshot%202025-05-21%20224737.png?raw=true)
При сильном ударе врмемя немного замедляется. Понижается питч аудиомиксера

## Архитектура

В основе лежит подход с инжектированием зависимостей. Однако сложной архитектруры я здесь не строил в виду простоты задания и необоходимость уделять больше времени подбору аудио и визуала. Куски логики я пытался держать раздельно. Так например за инпут и vfx отвечают отдельные сервисы, которые инжектятся через ServiceInstaller


### Доработки
- добавить адрессейблы для асинхронного спавна всего. можно делать через ресурсы, но адресейблы имеют более широкий функционал и чаще используются на проде
- сделать более явное замедление времени при успешном ударе, возможно добавить затемнение заднего фона/скайбокса
- переделать события на EventBus для того чтобы разделить модули на разные под-сборки.
![Спасибо за внимание](https://github.com/Avgustin4ik/vr-punching-bug/blob/main/screenshots/Screenshot%202025-05-21%20205819.png?raw=true)